{"ast":null,"code":"var defaultParent = typeof document !== 'undefined' ? document.body : null;\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n  if (parentNode === void 0) {\n    parentNode = defaultParent;\n  }\n\n  if (markerName === void 0) {\n    markerName = \"data-aria-hidden\";\n  }\n\n  var targets = Array.isArray(originalTarget) ? originalTarget : [originalTarget];\n\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n\n  var markerCounter = markerMap[markerName];\n  var hiddenNodes = [];\n\n  var deep = function (parent) {\n    if (!parent || targets.indexOf(parent) >= 0) {\n      return;\n    }\n\n    Array.prototype.forEach.call(parent.children, function (node) {\n      if (targets.some(function (target) {\n        return node.contains(target);\n      })) {\n        deep(node);\n      } else {\n        var attr = node.getAttribute('aria-hidden');\n        var alreadyHidden = attr !== null && attr !== 'false';\n        var counterValue = (counterMap.get(node) || 0) + 1;\n        var markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenNodes.push(node);\n\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledNodes.set(node, true);\n        }\n\n        if (markerValue === 1) {\n          node.setAttribute(markerName, 'true');\n        }\n\n        if (!alreadyHidden) {\n          node.setAttribute('aria-hidden', 'true');\n        }\n      }\n    });\n  };\n\n  deep(parentNode);\n  lockCount++;\n  return function () {\n    hiddenNodes.forEach(function (node) {\n      var counterValue = counterMap.get(node) - 1;\n      var markerValue = markerCounter.get(node) - 1;\n      counterMap.set(node, counterValue);\n      markerCounter.set(node, markerValue);\n\n      if (!counterValue) {\n        if (!uncontrolledNodes.has(node)) {\n          node.removeAttribute('aria-hidden');\n        }\n\n        uncontrolledNodes.delete(node);\n      }\n\n      if (!markerValue) {\n        node.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledNodes = new WeakMap();\n      markerMap = {};\n    }\n  };\n};","map":{"version":3,"sources":["/home/swayne/Documents/reactprojects/spotifyAPI/my-app/node_modules/aria-hidden/dist/es2015/index.js"],"names":["defaultParent","document","body","counterMap","WeakMap","uncontrolledNodes","markerMap","lockCount","hideOthers","originalTarget","parentNode","markerName","targets","Array","isArray","markerCounter","hiddenNodes","deep","parent","indexOf","prototype","forEach","call","children","node","some","target","contains","attr","getAttribute","alreadyHidden","counterValue","get","markerValue","set","push","setAttribute","has","removeAttribute","delete"],"mappings":"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","sourcesContent":["var defaultParent = typeof document !== 'undefined' ? document.body : null;\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (parentNode === void 0) { parentNode = defaultParent; }\n    if (markerName === void 0) { markerName = \"data-aria-hidden\"; }\n    var targets = Array.isArray(originalTarget) ? originalTarget : [originalTarget];\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var deep = function (parent) {\n        if (!parent || targets.indexOf(parent) >= 0) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (targets.some(function (target) { return node.contains(target); })) {\n                deep(node);\n            }\n            else {\n                var attr = node.getAttribute('aria-hidden');\n                var alreadyHidden = attr !== null && attr !== 'false';\n                var counterValue = (counterMap.get(node) || 0) + 1;\n                var markerValue = (markerCounter.get(node) || 0) + 1;\n                counterMap.set(node, counterValue);\n                markerCounter.set(node, markerValue);\n                hiddenNodes.push(node);\n                if (counterValue === 1 && alreadyHidden) {\n                    uncontrolledNodes.set(node, true);\n                }\n                if (markerValue === 1) {\n                    node.setAttribute(markerName, 'true');\n                }\n                if (!alreadyHidden) {\n                    node.setAttribute('aria-hidden', 'true');\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute('aria-hidden');\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n"]},"metadata":{},"sourceType":"module"}